(this["webpackJsonpinfinity-scroll-example"]=this["webpackJsonpinfinity-scroll-example"]||[]).push([[0],{28:function(t,e,c){},47:function(t,e,c){},48:function(t,e,c){},49:function(t,e,c){"use strict";c.r(e);var n=c(1),a=c(0),s=c.n(a),i=c(19),o=c.n(i),r=(c(28),c(10)),l=c(7),u=c(6),j=c(9),b=c.n(j),d=c(20),p=c(21),h=c.n(p),O="https://jsonplaceholder.typicode.com",f=function(){var t=Object(d.a)(b.a.mark((function t(e){var c,n,a=arguments;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a.length>1&&void 0!==a[1]?a[1]:10,n="".concat(O,"/posts?_start=").concat(e,"&_limit=").concat(c),t.abrupt("return",h()(n));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=c(22),g=c.n(m),v=(c(47),function(t){var e=t.post,c=t.className,s=t.animate,i=void 0!==s&&s,o=e.title,r=e.body,j=Object(a.useRef)(null),b=Object(a.useState)(!1),d=Object(l.a)(b,2),p=d[0],h=d[1],O=Object(a.useCallback)((function(t){h(t.visible)}),[]);Object(u.b)({targetRef:j,onVisibilityChange:O});var f=g()(c,"post",{show:i&&p},{hide:i&&!p});return Object(n.jsxs)("div",{className:f,ref:j,children:[Object(n.jsx)("h3",{className:"post__title",children:o}),Object(n.jsx)("p",{className:"post__body",children:r})]})}),x=(c(48),c(3)),y="LOADING_START",N="LOADING_DONE",_="LOADING_FAIL",C=function(t,e){var c=e.type,n=e.payload;switch(c){case y:return Object(x.a)(Object(x.a)({},t),{},{loading:!0});case N:return Object(x.a)(Object(x.a)({},n),{},{loading:!1});case _:return Object(x.a)(Object(x.a)({},t),{},{loading:!1});default:return t}},k=function(){var t=Object(a.useReducer)(C,{total:1/0,posts:[],start:0,loading:!1}),e=Object(l.a)(t,2),c=e[0],s=e[1],i=c.start,o=c.posts,j=c.loading,b=c.total,d=Object(a.useCallback)((function(){s({type:y}),f(i,10).then((function(t){s({type:N,payload:{total:+t.headers["x-total-count"],posts:[].concat(Object(r.a)(o),Object(r.a)(t.data)),start:i+10}})})).catch((function(t){console.log(t),s({type:_})}))}),[i,o]),p=Object(a.useCallback)((function(t){var e=t.visible,c=t.directionY;!j&&e&&"up"===c&&d()}),[d,j]);return Object(a.useEffect)((function(){d()}),[]),Object(n.jsxs)("div",{className:"posts-list",children:[Object(n.jsx)("h2",{children:"\u041f\u0440\u0438\u043c\u0435\u0440 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u0441 \u043f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u043e\u0439 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e \u0441\u043a\u0440\u043e\u043b\u043b\u0443"}),Object(n.jsxs)("p",{children:["\u0414\u0430\u043d\u043d\u044b\u0435 \u0431\u0435\u0440\u0443\u0442\u0441\u044f \u0441 ",Object(n.jsx)("a",{href:"http://jsonplaceholder.typicode.com",children:"jsonplaceholder"})]}),Object(n.jsxs)("p",{children:["\u041f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0430 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u0430 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e ",Object(n.jsx)("a",{href:"https://github.com/behuamuh/react-visibility-detector",children:"\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430"})]}),o.map((function(t,e){return Object(n.jsx)(v,{post:t,animate:e%4===0,className:"posts-list__item"},t.id)})),j&&"...loading",b>o.length&&Object(n.jsx)(u.a,{onVisibilityChange:p})]})};var w=function(){return Object(n.jsx)("div",{className:"app",children:Object(n.jsx)(k,{})})},I=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,50)).then((function(e){var c=e.getCLS,n=e.getFID,a=e.getFCP,s=e.getLCP,i=e.getTTFB;c(t),n(t),a(t),s(t),i(t)}))};o.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(w,{})}),document.getElementById("root")),I()}},[[49,1,2]]]);
//# sourceMappingURL=main.5a0fad84.chunk.js.map